<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>The header :: FHIRconnect</title>
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">FHIRconnect</a>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="FHIRconnect" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">FHIRconnect</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Grammar</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Basics</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="header.html">Header</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="body.html">Body</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="Variables.html">Variables</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="Conditions.html">Condition</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="FollowedBy.html">FollowedBy</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="cardinality.html">Cardinality</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="links-and-references.html">Links and references</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="demographics.html">Demographics</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Types of Mappings</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../types-of-mappings/MappingTypes.html">Mapping types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../types-of-mappings/concept-mappings.html">Concept type mappings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../types-of-mappings/SlotArchetypes.html">SlotArchetypes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../types-of-mappings/Reference.html">Reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../types-of-mappings/manual.html">Manual mappings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../types-of-mappings/HierarchyMappings.html">Hierarchy Mappings</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Types of Mapping files</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../types-of-mapping-files/types-of-mappings.html">Types of mapping files</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../types-of-mapping-files/model-mappings.html">Model mappings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../types-of-mapping-files/extension-mappings.html">Extension mappings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../types-of-mapping-files/context-mappings.html">Context mappings</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Engine</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../engine/engine.html">Engine</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">FHIRconnect</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../index.html">FHIRconnect</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">FHIRconnect</a></li>
    <li>Grammar</li>
    <li>Basics</li>
    <li><a href="header.html">Header</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="file:///C:/Users/Severin/repos/FHIRconnect/modules/ROOT/pages/basics/header.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">The header</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The header is contained in each FHIRconnect mapping file. It is
standardized for both FHIRconnect and
<a href="https://github.com/SevKohler/OMOCL">OMOCL</a>.</p>
</div>
<div class="paragraph">
<p>There are three different types of mapping files in FHIRconnect.
For this header explanation and basic chapter we will focus on the model mappings that map an openEHR-archetype to a
FHIR resource. Other types are explained later in the chapter <a href="../types-of-mapping-files/types-of-mappings.html" class="xref page">Types of mapping files</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_grammar_and_type"><a class="anchor" href="#_grammar_and_type"></a>Grammar and Type</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here we define which engine version is used, for FHIRconnect its FHIRconnect. The name is followed by the version
of the grammar used seperated by a <code>/</code>. The <code>type</code> defines what type of mapping-file this is it can be either:
<code>model</code>, <code>extension</code> or <code>context</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">grammar: FHIRConnect/v0.0.1  # what grammar and version is used in this file
type: model  # the type of mapping: model, extension or context</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_metadata"><a class="anchor" href="#_metadata"></a>Metadata</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The metadata defines the name of the mapping, that is a unique id used to identify the mapping and reference it.
The version represents which version of the mapping this is. Sometimes its necessary to maintain several versions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">grammar: FHIRConnect/v0.0.1  # what grammar and version is used in this file
type: model  # the type of mapping: model, extension or context
metadata:
  name: ACTION.informed_consent.v0  #the name of the mapping
  version: 0.0.1-alpha # version of this particular mapping</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_spec"><a class="anchor" href="#_spec"></a>Spec</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This defines what standard is mapped by the file, in our case <code>FHIR</code> and which Release of it. The current spec was designed
based on R4. It was not tested with any other Releases, but since FHIRconnect operates on paths, there shouldn&#8217;t be any
problems.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">grammar: FHIRConnect/v0.0.1  # what grammar and version is used in this file
type: model  # the type of mapping: model, extension or context
metadata:
  name: ACTION.informed_consent.v0  #the name of the mapping
  version: 0.0.1-alpha # version of this particular mapping
spec: # schema specific to the FHIRConnect v0.0.1 engine
  system: FHIR  # What is mapped
  version: R4
  openEhrConfig:
    archetype: openEHR-EHR-ACTION.informed_consent.v0 # what openEHR archetype is mapped in this model mapping
  fhirConfig:
    structureDefinition: http://hl7.org/fhir/StructureDefinition/Consent # to what FHIR structureDefinition this is mapped</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>openEHRConfig.archetype</code> defines which archetypes is mapped, in case of a model mapping.</p>
</div>
<div class="paragraph">
<p>The <code>fhirConfig.structureDefintion</code> contains the information which FHIR StructureDefinition is mapped.
This is just informal for the user and has no impact on the mapping.
<mark>Gasper verifiy</mark></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_naming_convention"><a class="anchor" href="#_naming_convention"></a>Naming convention</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Naming conventions are as follows: Names of model mappings always start with the type of openEHR
class (e.g., EVALUATION) and the full name and version. Sometimes it happens that two resources
can be transformed into one archetype. In this case, the name of the mapping is to be extended
with what FHIR type is mapped to what openEHR archetype:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CLUSTER.medication.v2 (this maps medication-to-medication)</p>
</li>
<li>
<p>CLUSTER.medication.v2.substance-to-medication (this does not map a
FHIR medication but an FHIR substance)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This allows for separately calling these archetype mappings for different use cases. The initial one
created always stays as <code>CLUSTER.medication.v2</code> and is to be seen as the default. All future mappings
created that also map to medication but from another FHIR input must add a string to their name as
described above. We deem the first mapping as the default one. Furthermore, we want to prevent
dependency problems by renaming the file later on.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
